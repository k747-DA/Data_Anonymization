<h1 align="center">Data anonymization</h1>

Задача по предмету Информационная безопасность (2 группа).
## Выполняли проект:

**Руководитель по проекту:** 
|---|
Павловский Даниил 

**Ответственные за разработку кода:** 
|---|
Шайхлисламова Камилла  
Павловский Даниил 
Вахитов Азат 
Фаттахов Тимур
Калинин Данил
Аль-Зркави Ебрахим
Галимов Карим

 **Ответственные за презентацию проекта:**
|---|
Михайлов Александр 
Бандурина Софья
Круглеев Андрей

## Цель работы:
Цель работы: Создать программу, способную обезличивать файл и дешифровывать его в формате .xlsx, который будет совместим со специальной программой, разработанной группой 1.

## Используемые библиотеки и язык прогромирования:

### Язык программирования выбран: 
![Python](https://img.shields.io/badge/python-3670A0?style=for-the-badge&logo=python&logoColor=ffdd54)

### Используемые библиотеки: 
- ***cryptography*** - это библиотека Python для обеспечения криптографических функций. Данная библиотека была выбрана, так как она предоставляет разнообразные инструменты и алгоритмы для выполнения шифрования, дешифрования, создания хешей сообщений и генерации ключей. В программе код импортирует класс Fernet из библиотеки cryptography.fernet, который позволяет нам использовать алгоритм шифрования Fernet для шифрования и дешифрования данных.
   - Для установки библиотеки cryptography нужно выполнить команду:
```
$ pip install cryptography
```


- ***pandas*** - это мощная библиотека для анализа и манипуляции данными, построена на языке программирования Python. С помощью pandas можно загружать данные из различных форматов файлов (например, CSV, Excel), фильтровать и сортировать данные, проводить арифметические операции, объединять и группировать данные, расчеты статистических показателей, визуализацию данных и многое другое.
   - Для установки библиотеки pandas нужно выполнить команду:
```
$ pip install pandas
```

- ***json*** - использование встроенной библиотеки Python json, которая предоставляет функции для работы с данными в формате .json.

## Описание кода
1. `def generate_key():` - здесь определяет функцию generate_key, которая генерирует ключ шифрования с помощью Fernet.generate_key().

2. `def load_key():` - здесь определена функция load_key, которая пытается загрузить ключ шифрования из файла secret.key, если файл существует. Если файл не найден, генерируется новый ключ и сохраняется в файле secret.key, который затем возвращается функцией.

3. `def anonymize_data(data, columns):` - эта функция anonymize_data использует полученные данные и список столбцов columns для шифрования определенных столбцов данных.

4. `def decrypt_data(data, columns):` - эта функция decrypt_data используется для расшифровки данных в указанных столбцах columns.

5. `with open('users.json', 'r', encoding='utf-8') as json_data:` - здесь открываем файл users.json для чтения и используем json.load для загрузки данных из JSON файла в переменную users.

6. `def anonymize_data(data, columns):` - затем обезличиваем данные из файла users.json, шифруем определенные столбцы, и сохраняем их в новый файл anonymized_users.json.

7. `with open('anonymized_users.json', 'r', encoding='utf-8') as json_data:` - здесь снова открываем файл anonymized_users.json для чтения, чтобы затем расшифровать данные из него.

8. `dec=pd.DataFrame(anonymized_users).to_excel("anon.xlsx"):` - создает DataFrame с обезличенными данными и сохраняет его в файл Excel anon.xlsx.

9. `decrypted_users = [decrypt_data(user, ['last_name', 'birth_date', 'address', 'passport_data', 'phone', 'other_data']) for user in anonymized_users]` - расшифровываем данные из файла anonymized_users.json и сохраняем их в переменной decrypted_users.

10. `with open('decrypted_users.json', 'w', encoding='utf-8') as file:` - здесь мы записываем расшифрованные данные в файл decrypted_users.json в формате .json.

11. `dec=pd.DataFrame(decrypted_users).to_excel("decrypted.xlsx"):` - создает DataFrame с расшифрованными данными и сохраняет его в файл Excel decrypted.xlsx.

## Презентация

Ссылка на презентацию: [Призентация](https://docs.google.com/presentation/d/1tCGOnWw2tFFuYsGEm9Hs45owa1jznmdL/edit?usp=sharing&)

## Ссылки
Задача 1 группы: [ИС-проект базы данных](https://github.com/AhmetshaLee/IS-database-project#is-database-project)
